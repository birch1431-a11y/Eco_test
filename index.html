<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ”„ ê¸€ë¡œë²Œ ê²½ì œ ìƒí™©íŒ</title>
    <style>
        body { background-color: #121212; color: #e0e0e0; font-family: -apple-system, sans-serif; padding: 15px; margin: 0; }
        .header { text-align: center; font-size: 1.1rem; font-weight: bold; margin-bottom: 25px; color: #c5a059; cursor: pointer; padding: 10px; border: 1px solid #444; border-radius: 8px; }
        .category { margin-top: 25px; font-size: 0.95rem; color: #ffffff; font-weight: bold; }
        .hr-short { border: 0; border-top: 2px solid #c5a059; width: 30px; margin: 5px 0 10px 0; }
        .item-row { display: flex; justify-content: space-between; align-items: center; padding: 10px 5px; border-bottom: 1px solid #222; }
        .label { font-size: 0.95rem; color: #bbbbbb; } 
        .value { font-size: 1rem; font-weight: 600; color: #ffffff; }
        .up { color: #ff4444; } .down { color: #4488ff; }
        .status-danger { color: #ff4444 !important; } .status-warning { color: #ffbb33 !important; } .status-safe { color: #00ff88 !important; }
    </style>
</head>
<body>
    <div class="header" onclick="location.reload()">ğŸ”„ ê¸€ë¡œë²Œ ê²½ì œ ìƒí™©íŒ (ë³µêµ¬ë¨)</div>

    <div class="category">ì£¼ìš” ì§€í‘œ</div><hr class="hr-short">
    <div class="item-row"><span class="label">S&P 500</span><span class="value" id="SP500">--</span></div>
    <div class="item-row"><span class="label">VIX ì§€ìˆ˜</span><span class="value" id="VIX">--</span></div>
    <div class="item-row"><span class="label">ì›/ë‹¬ëŸ¬ í™˜ìœ¨</span><span class="value" id="USD/KRW">--</span></div>
    <div class="item-row"><span class="label">êµ¬ë¦¬($/lb)</span><span class="value" id="COPPER">--</span></div>
    <div class="item-row"><span class="label">WTIìœ ($/bbl)</span><span class="value" id="WTI">--</span></div>

    <script>
        // PC ë¸Œë¼ìš°ì € ì°¨ë‹¨ ìš°íšŒë¥¼ ìœ„í•´ íƒ€ì„ìŠ¤íƒ¬í”„ ì¶”ê°€
        async function getYahoo(ticker, id) {
            try {
                const url = `https://query1.finance.yahoo.com/v8/finance/chart/${ticker}?interval=1m&range=1d&t=${new Date().getTime()}`;
                const res = await fetch(`https://corsproxy.io/?${encodeURIComponent(url)}`);
                const data = await res.json();
                if (data?.chart?.result) {
                    const cur = data.chart.result[0].meta.regularMarketPrice;
                    const el = document.getElementById(id);
                    if (el) {
                        el.innerText = cur.toLocaleString(undefined, {minimumFractionDigits:2});
                        if (id === "VIX") {
                            if (cur >= 30) el.className = "value status-danger";
                            else if (cur >= 20) el.className = "value status-warning";
                            else el.className = "value status-safe";
                        }
                    }
                }
            } catch (e) { console.error(id + " ë¡œë“œ ì‹¤íŒ¨"); }
        }

        async function init() {
            await getYahoo("^GSPC", "SP500");
            await getYahoo("^VIX", "VIX");
            await getYahoo("HG=F", "COPPER");
            await getYahoo("CL=F", "WTI");
            
            // í™˜ìœ¨ í˜¸ì¶œ
            fetch(`https://api.twelvedata.com/quote?symbol=USD/KRW&apikey=7142915ec1dc45caad56dfc9fcf07341`)
            .then(r=>r.json()).then(d=>{
                if(d.close) document.getElementById("USD/KRW").innerText = parseFloat(d.close).toLocaleString();
            }).catch(e=>console.error("í™˜ìœ¨ ì‹¤íŒ¨"));
        }
        window.onload = init;
    </script>
</body>
</html>
